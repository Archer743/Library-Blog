@using Library_Web_App.Data.ViewModels.User
@model List<UserIndexViewModel>

@if (User.Identity?.IsAuthenticated ?? false && User.IsInRole("admin"))
{
	@if (Model.Count == 0)
	{
		<p>No Users Found!</p>
	}
	else
	{
		<style>
			table, th, td {
				border: 1px solid black;
				border-collapse: collapse;
				padding: 13px;
				text-align: center;
			}
		</style>

		<h3>Users</h3>

		<label></label>

		<table>
			<tr>
				<th style="background-color:lightgrey">ID</th>
				<th style="background-color:lightgrey">User</th>
				<th style="background-color:lightgrey">Role</th>
			</tr>

		@foreach (UserIndexViewModel user in Model)
		{
			<tr>
				<th>@user.Id</th>
				<th>@user.UserName</th>
				<th style="color:@user.Role.Color">@user.Role.NormalizedName</th>
			</tr>
		}
		</table>
	}
}
